<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CodeCloud</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
    <header>CodeCloud</header>
    <!--  div>(div.column{file$.txt})*10  -->
    <div class="column-group" id="fileNames"></div>

    <style>
        header {
            top: 0;
            left: 0;
            font-size: 50px;
        }

        button {
            display: block;
            margin-top: 5px;
        }
    </style>

    <script>
        fetch("http://localhost/getFiles")
            .then(resp => {
                if (resp.status == 200) {
                    return resp.json()
                }
            }).then(s => {

                let files = document.getElementById('fileNames');

                s.forEach(name => {
                    let b = document.createElement('button');
                    b.addEventListener('click', goToFile);
                    b.innerText = name;
                    files.appendChild(b);
                });

            }).catch(err => {
                console.log(err);

            });

        function goToFile(event) {
            window.location.pathname = '/file/' + event.target.innerText;
        }
    </script>
</body>

</html>